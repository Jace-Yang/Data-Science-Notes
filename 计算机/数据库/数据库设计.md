## 设计模式

**1.E-R模型**

实体（Entity）:客观存在并可相互区别的事物称为实体

联系（Relationship）:一个实体内部的联系指组成实体的各属性之间的联系，而实体间的联系指不同实体之间的相互关联

**2.关系模式的规范化处理**

函数依赖:最基本的一种数据依赖。它是一种完整性约束，主要表达关系模式内各个属性之间的制约关系

R(U)中，如果X®Y，并且对于X的任何真子集X¢(X¢ÌX)，Y都不函数依赖X¢，则称Y对X是完全函数依赖，记作：X®Y。但若存在X的真子集X¢, 使X¢®Y，则称Y对X部分依赖，记作：X®Y

在R(U)中，如果X®Y，Y®X，Y®Z, (ZËY)则称Z对X是传递函数依赖

第一范式（1NF）

若关系模式R的每个属性都是不可再分的数据项，则称R满足第一范式，简记为RÎ 1NF

第二范式（2NF）

设有一关系模式R (U)，aÍU。若a包含在R (U)的某个候选码中，则称a为主属性，否则a为非主属性。

若关系模式RÎ1NF，且每一个非主属性都完全函数依赖于候选码，则RÎ2NF

第三范式（3NF）

若关系模式，且每个非主属性都不部分依赖也不传递依赖于候选码，则称RÎ3NF。

Boyce-Codd范式（BCNF）

若关系模式RÎ1NF，X®Y且YËX时，X必含有候选码，则称RÎBCNF。即每个决定因素中都包含候选码。

## 存储结构

1.计算机的三级存储体系

根据存储介质的速度和成本，形成三级存储：层次越高，价格越贵，速度越快。

一级存储为易失性存储，二、三级存储都是非易失性存储

访问时间(access time)是从发出读写请求到数据开始传输之间的时间

访问时间 = 寻道时间 + 旋转等待时间

磁盘块：一个逻辑单元，外存与内存之间交换数据的单位。

缓冲区(buffers)是主存储器中用于存储磁盘块的副本的区域。缓冲区中的每个块总有一个副本存放在磁盘上，但是在磁盘上的副本可能比在缓冲区中的副本旧

3.记录组织

文件中组织记录的常用方法有：

堆文件组织、顺序文件组织、多表聚集文件组织、B+树文件组织、散列(hashing)文件组织。

堆文件组织：文件中的记录没有顺序，是堆积起来的。

顺序文件组织：文件中的记录按搜索码值有序。磁盘块内的记录有序，且通过指针将磁盘块逻辑上有序地链接起来。

多表聚集文件组织：在一个块中存储多个关系的相关记录

4.索引与散列

顺序索引：索引中的记录(索引项)基于搜索码值的顺序排列。

散列索引：索引中的记录(索引项)基于搜索码值的散列函数(即哈希函数)的值平均、随机地分布到若干个散列桶中。

顺序索引：稠密索引、稀疏索引。

索引文件：建立了索引的文件。

主索引 或 聚集索引  —— 索引顺序文件。

辅助索引 或 非聚集索引  —— 只能是稠密索引。

多级索引：在索引之上再建立索引。5.

 5.B+树索引与散列结构

B+树索引：高效支持范围查询，较高效支持等值查询

一个多级索引，采用平衡树结构，特点是胖而矮

所有结点的结构都相同，每个结点最多有n-1个搜索码值K1, K2, …, Kn-1，以及n个指针P1, P2, …, Pn，每个结点中的搜索码值升序存放

每个非叶结点有⌈n/2⌉到n个孩子结点(根结点除外)，叶结点依次链接起来

B+树文件组织： 叶结点组织文件记录，非叶结点起索引作用

散列结构：高效支持等值查询，不支持范围查询

散列文件组织、散列索引(辅助索引)

散列函数，桶溢出 —— 闭散列、开散列，静态散列、动态散列

 